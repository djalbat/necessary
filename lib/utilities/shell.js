"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.onETX = onETX;
exports.prompt = prompt;
exports.default = void 0;
var _asynchronous = require("../utilities/asynchronous");
var _encodings = require("../encodings");
var _constants = require("../constants");
var _defaults = require("../defaults");
var _characters = require("../characters");
function onETX(handler) {
    var offExt = function offExt() {
        process.stdin.removeListener(_constants.DATA, listener);
    };
    var listener = function listener(character) {
        if (character === _characters.ETX_CHARACTER) {
            handler();
        }
    };
    if (process.stdin.setRawMode) {
        var rawMode = true, encoding = _encodings.UTF8_ENCODING;
        process.stdin.setRawMode(rawMode);
        process.stdin.setEncoding(encoding);
        process.stdin.addListener(_constants.DATA, listener);
        process.stdin.resume();
        return offExt;
    }
}
function prompt(options, callback) {
    var _answer = options.answer, answer1 = _answer === void 0 ? null : _answer;
    if (answer1 !== null) {
        callback(answer1);
        return;
    }
    var _attempts = options.attempts, attempts = _attempts === void 0 ? _defaults.DEFAULT_ATTEMPTS : _attempts, context = {
        answer: answer1,
        options: options,
        attempts: attempts
    };
    (0, _asynchronous).whilst(attempt, function() {
        var answer = context.answer;
        callback(answer);
    }, context);
}
var _default = {
    onETX: onETX,
    prompt: prompt
};
exports.default = _default;
function attempt(next, done, context) {
    var callback = function callback(answer) {
        var valid = validationFunction ? validationFunction(answer) : validationPattern.test(answer);
        if (valid) {
            Object.assign(context, {
                answer: answer
            });
            done();
        } else {
            console.log(errorMessage);
            Object.assign(context, {
                attempts: attempts
            });
            next();
        }
    };
    var attempts = context.attempts;
    var terminate = (attempts--) === 0;
    if (terminate) {
        done();
        return;
    }
    var options = context.options, _hidden = options.hidden, hidden = _hidden === void 0 ? false : _hidden, _encoding = options.encoding, encoding = _encoding === void 0 ? _defaults.DEFAULT_ENCODING : _encoding, description = options.description, errorMessage = options.errorMessage, _initialAnswer = options.initialAnswer, initialAnswer = _initialAnswer === void 0 ? _defaults.DEFAULT_INITIAL_ANSWER : _initialAnswer, _validationPattern = options.validationPattern, validationPattern = _validationPattern === void 0 ? null : _validationPattern, _validationFunction = options.validationFunction, validationFunction = _validationFunction === void 0 ? null : _validationFunction;
    input(initialAnswer, hidden, description, encoding, callback);
}
function input(initialAnswer, hidden, description, encoding, callback) {
    var answer = initialAnswer; ///
    hidden ? hiddenInput(answer, description, encoding, callback) : visibleInput(answer, description, encoding, callback);
}
function hiddenInput(answer, description, encoding, callback) {
    var rawMode = true;
    process.stdout.write(description);
    process.stdin.setEncoding(encoding);
    process.stdin.setRawMode(rawMode);
    process.stdin.on(_constants.DATA, listener);
    process.stdin.resume();
    function listener(data) {
        var character = data.toString(encoding);
        switch(character){
            case _characters.LINE_FEED_CHARACTER:
            case _characters.CARRIAGE_RETURN_CHARACTER:
                process.stdout.write(_characters.LINE_FEED_CHARACTER);
                process.stdin.removeListener(_constants.DATA, listener);
                process.stdin.pause();
                callback(answer);
                break;
            case _characters.BACKSPACE_CHARACTER:
                answer = answer.slice(0, answer.length - 1);
                break;
            default:
                answer += character;
                break;
            case _characters.ETX_CHARACTER:
                console.log(_characters.CTRL_C_CHARACTER);
                process.exit();
        }
    }
}
function visibleInput(answer2, description, encoding, callback) {
    var listener = function listener(data) {
        var answer = data.replace(/\n$/, _constants.EMPTY_STRING);
        process.stdin.pause();
        callback(answer);
    };
    process.stdout.write(description);
    process.stdout.write(answer2);
    process.stdin.setEncoding(encoding);
    process.stdin.once(_constants.DATA, listener);
    process.stdin.resume();
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvc2hlbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IHdoaWxzdCB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXN5bmNocm9ub3VzXCI7XG5cbmltcG9ydCB7IFVURjhfRU5DT0RJTkcgfSBmcm9tIFwiLi4vZW5jb2RpbmdzXCI7XG5pbXBvcnQgeyBEQVRBLCBFTVBUWV9TVFJJTkcgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBERUZBVUxUX0VOQ09ESU5HLCBERUZBVUxUX0FUVEVNUFRTLCBERUZBVUxUX0lOSVRJQUxfQU5TV0VSIH0gZnJvbSBcIi4uL2RlZmF1bHRzXCI7XG5pbXBvcnQgeyBFVFhfQ0hBUkFDVEVSLCBDVFJMX0NfQ0hBUkFDVEVSLCBCQUNLU1BBQ0VfQ0hBUkFDVEVSLCBMSU5FX0ZFRURfQ0hBUkFDVEVSLCBDQVJSSUFHRV9SRVRVUk5fQ0hBUkFDVEVSIH0gZnJvbSBcIi4uL2NoYXJhY3RlcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uRVRYKGhhbmRsZXIpIHtcbiAgaWYgKHByb2Nlc3Muc3RkaW4uc2V0UmF3TW9kZSkge1xuICAgIGNvbnN0IHJhd01vZGUgPSB0cnVlLFxuICAgICAgICAgIGVuY29kaW5nID0gVVRGOF9FTkNPRElORztcblxuICAgIHByb2Nlc3Muc3RkaW4uc2V0UmF3TW9kZShyYXdNb2RlKTtcblxuICAgIHByb2Nlc3Muc3RkaW4uc2V0RW5jb2RpbmcoZW5jb2RpbmcpO1xuXG4gICAgcHJvY2Vzcy5zdGRpbi5hZGRMaXN0ZW5lcihEQVRBLCBsaXN0ZW5lcik7XG5cbiAgICBwcm9jZXNzLnN0ZGluLnJlc3VtZSgpO1xuXG4gICAgcmV0dXJuIG9mZkV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9mZkV4dCgpIHtcbiAgICBwcm9jZXNzLnN0ZGluLnJlbW92ZUxpc3RlbmVyKERBVEEsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbmVyKGNoYXJhY3Rlcikge1xuICAgIGlmIChjaGFyYWN0ZXIgPT09IEVUWF9DSEFSQUNURVIpIHtcbiAgICAgIGhhbmRsZXIoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb21wdChvcHRpb25zLCBjYWxsYmFjaykge1xuICBsZXQgeyBhbnN3ZXIgPSBudWxsIH0gPSBvcHRpb25zO1xuXG4gIGlmIChhbnN3ZXIgIT09IG51bGwpIHtcbiAgICBjYWxsYmFjayhhbnN3ZXIpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyBhdHRlbXB0cyA9IERFRkFVTFRfQVRURU1QVFMgfSA9IG9wdGlvbnMsXG4gICAgICAgIGNvbnRleHQgPSB7XG4gICAgICAgICAgYW5zd2VyLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgYXR0ZW1wdHNcbiAgICAgICAgfTtcblxuICB3aGlsc3QoYXR0ZW1wdCwgKCkgPT4ge1xuICAgIGNvbnN0IHsgYW5zd2VyIH0gPSBjb250ZXh0O1xuICAgIFxuICAgIGNhbGxiYWNrKGFuc3dlcik7XG4gIH0sIGNvbnRleHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG9uRVRYLFxuICBwcm9tcHRcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdChuZXh0LCBkb25lLCBjb250ZXh0KSB7XG4gIGxldCB7IGF0dGVtcHRzIH0gPSBjb250ZXh0O1xuXG4gIGNvbnN0IHRlcm1pbmF0ZSA9IChhdHRlbXB0cy0tID09PSAwKTtcbiAgXG4gIGlmICh0ZXJtaW5hdGUpIHtcbiAgICBkb25lKCk7XG4gICAgXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyBvcHRpb25zIH0gPSBjb250ZXh0LFxuICAgICAgICB7IGhpZGRlbiA9IGZhbHNlLFxuICAgICAgICAgIGVuY29kaW5nID0gREVGQVVMVF9FTkNPRElORyxcbiAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgaW5pdGlhbEFuc3dlciA9IERFRkFVTFRfSU5JVElBTF9BTlNXRVIsXG4gICAgICAgICAgdmFsaWRhdGlvblBhdHRlcm4gPSBudWxsLFxuICAgICAgICAgIHZhbGlkYXRpb25GdW5jdGlvbiA9IG51bGwgfSA9IG9wdGlvbnM7XG5cbiAgaW5wdXQoaW5pdGlhbEFuc3dlciwgaGlkZGVuLCBkZXNjcmlwdGlvbiwgZW5jb2RpbmcsIGNhbGxiYWNrKTtcblxuICBmdW5jdGlvbiBjYWxsYmFjayhhbnN3ZXIpIHtcbiAgICBjb25zdCB2YWxpZCA9IHZhbGlkYXRpb25GdW5jdGlvbiA/ICAvLy9cbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkZ1bmN0aW9uKGFuc3dlcikgOlxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25QYXR0ZXJuLnRlc3QoYW5zd2VyKTtcblxuICAgIGlmICh2YWxpZCkge1xuICAgICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgICAgIGFuc3dlclxuICAgICAgfSk7XG5cbiAgICAgIGRvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coZXJyb3JNZXNzYWdlKTtcblxuICAgICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgICAgIGF0dGVtcHRzXG4gICAgICB9KTtcblxuICAgICAgbmV4dCgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbnB1dChpbml0aWFsQW5zd2VyLCBoaWRkZW4sIGRlc2NyaXB0aW9uLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgY29uc3QgYW5zd2VyID0gaW5pdGlhbEFuc3dlcjsgLy8vXG5cbiAgaGlkZGVuID9cbiAgICBoaWRkZW5JbnB1dChhbnN3ZXIsIGRlc2NyaXB0aW9uLCBlbmNvZGluZywgY2FsbGJhY2spIDpcbiAgICAgIHZpc2libGVJbnB1dChhbnN3ZXIsIGRlc2NyaXB0aW9uLCBlbmNvZGluZywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBoaWRkZW5JbnB1dChhbnN3ZXIsIGRlc2NyaXB0aW9uLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgY29uc3QgcmF3TW9kZSA9IHRydWU7XG5cbiAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZGVzY3JpcHRpb24pO1xuXG4gIHByb2Nlc3Muc3RkaW4uc2V0RW5jb2RpbmcoZW5jb2RpbmcpO1xuXG4gIHByb2Nlc3Muc3RkaW4uc2V0UmF3TW9kZShyYXdNb2RlKTtcblxuICBwcm9jZXNzLnN0ZGluLm9uKERBVEEsIGxpc3RlbmVyKTtcblxuICBwcm9jZXNzLnN0ZGluLnJlc3VtZSgpO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbmVyKGRhdGEpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXIgPSBkYXRhLnRvU3RyaW5nKGVuY29kaW5nKTtcblxuICAgIHN3aXRjaCAoY2hhcmFjdGVyKSB7XG4gICAgICBjYXNlIExJTkVfRkVFRF9DSEFSQUNURVIgOlxuICAgICAgY2FzZSBDQVJSSUFHRV9SRVRVUk5fQ0hBUkFDVEVSIDpcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoTElORV9GRUVEX0NIQVJBQ1RFUik7XG5cbiAgICAgICAgcHJvY2Vzcy5zdGRpbi5yZW1vdmVMaXN0ZW5lcihEQVRBLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgcHJvY2Vzcy5zdGRpbi5wYXVzZSgpO1xuXG4gICAgICAgIGNhbGxiYWNrKGFuc3dlcik7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQkFDS1NQQUNFX0NIQVJBQ1RFUiA6XG4gICAgICAgIGFuc3dlciA9IGFuc3dlci5zbGljZSgwLCBhbnN3ZXIubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFuc3dlciArPSBjaGFyYWN0ZXI7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgRVRYX0NIQVJBQ1RFUiA6XG4gICAgICAgIGNvbnNvbGUubG9nKENUUkxfQ19DSEFSQUNURVIpO1xuXG4gICAgICAgIHByb2Nlc3MuZXhpdCgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB2aXNpYmxlSW5wdXQoYW5zd2VyLCBkZXNjcmlwdGlvbiwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIHByb2Nlc3Muc3Rkb3V0LndyaXRlKGRlc2NyaXB0aW9uKTtcblxuICBwcm9jZXNzLnN0ZG91dC53cml0ZShhbnN3ZXIpO1xuXG4gIHByb2Nlc3Muc3RkaW4uc2V0RW5jb2RpbmcoZW5jb2RpbmcpO1xuXG4gIHByb2Nlc3Muc3RkaW4ub25jZShEQVRBLCBsaXN0ZW5lcik7XG5cbiAgcHJvY2Vzcy5zdGRpbi5yZXN1bWUoKTtcblxuICBmdW5jdGlvbiBsaXN0ZW5lcihkYXRhKSB7XG4gICAgY29uc3QgYW5zd2VyID0gZGF0YS5yZXBsYWNlKC9cXG4kLywgRU1QVFlfU1RSSU5HKTtcblxuICAgIHByb2Nlc3Muc3RkaW4ucGF1c2UoKTtcblxuICAgIGNhbGxiYWNrKGFuc3dlcik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJvbkVUWCIsInByb21wdCIsImhhbmRsZXIiLCJvZmZFeHQiLCJwcm9jZXNzIiwic3RkaW4iLCJyZW1vdmVMaXN0ZW5lciIsImxpc3RlbmVyIiwiY2hhcmFjdGVyIiwic2V0UmF3TW9kZSIsInJhd01vZGUiLCJlbmNvZGluZyIsInNldEVuY29kaW5nIiwiYWRkTGlzdGVuZXIiLCJyZXN1bWUiLCJvcHRpb25zIiwiY2FsbGJhY2siLCJhbnN3ZXIiLCJhdHRlbXB0cyIsImNvbnRleHQiLCJhdHRlbXB0IiwibmV4dCIsImRvbmUiLCJ2YWxpZCIsInZhbGlkYXRpb25GdW5jdGlvbiIsInZhbGlkYXRpb25QYXR0ZXJuIiwidGVzdCIsIk9iamVjdCIsImFzc2lnbiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvck1lc3NhZ2UiLCJ0ZXJtaW5hdGUiLCJoaWRkZW4iLCJkZXNjcmlwdGlvbiIsImluaXRpYWxBbnN3ZXIiLCJpbnB1dCIsImhpZGRlbklucHV0IiwidmlzaWJsZUlucHV0Iiwic3Rkb3V0Iiwid3JpdGUiLCJvbiIsImRhdGEiLCJ0b1N0cmluZyIsInBhdXNlIiwi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