"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _constants = require("../constants");
var _http = require("../utilities/http");
var http = require("http"), https = require("https");
function get(host, uri, parameters, headers, callback) {
    if (callback === undefined) {
        callback = headers; ///
        headers = {
        };
    }
    var method = _constants.GET, _request = request(host, uri, parameters, method, headers, callback);
    _request.end();
    return _request;
}
function post(host, uri, parameters, headers, callback) {
    if (callback === undefined) {
        callback = headers; ///
        headers = {
        };
    }
    var method = _constants.POST, _request = request(host, uri, parameters, method, headers, callback);
    return _request;
}
function request(host, uri, parameters, method, headers, callback) {
    var port = (0, _http).portFromHost(host), secure = (0, _http).secureFromHost(host), hostname = (0, _http).hostnameFromHost(host), queryString = (0, _http).queryStringFromParameters(parameters), path = queryString === _constants.EMPTY_STRING ? uri : "".concat(uri, "?").concat(queryString), options = {
        hostname: hostname,
        headers: headers,
        method: method,
        port: port,
        path: path
    }, request1 = secure ? https.request : http.request; ///
    var _request = request1(options, function(response) {
        var error = null;
        callback(error, response);
    });
    _request.on(_constants.ERROR, function(error) {
        var response = null;
        callback(error, response);
    });
    return _request;
}
var _default = {
    get: get,
    post: post,
    request: request
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcmVxdWVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpLFxuICAgICAgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XG5cbmltcG9ydCB7IEdFVCwgUE9TVCwgRVJST1IsIEVNUFRZX1NUUklORyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IHBvcnRGcm9tSG9zdCwgc2VjdXJlRnJvbUhvc3QsIGhvc3RuYW1lRnJvbUhvc3QsIHF1ZXJ5U3RyaW5nRnJvbVBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2h0dHBcIjtcblxuZnVuY3Rpb24gZ2V0KGhvc3QsIHVyaSwgcGFyYW1ldGVycywgaGVhZGVycywgY2FsbGJhY2spIHtcbiAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICBjYWxsYmFjayA9IGhlYWRlcnM7IC8vL1xuICAgIGhlYWRlcnMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0IG1ldGhvZCA9IEdFVCxcbiAgICAgICAgX3JlcXVlc3QgPSByZXF1ZXN0KGhvc3QsIHVyaSwgcGFyYW1ldGVycywgbWV0aG9kLCBoZWFkZXJzLCBjYWxsYmFjayk7XG5cbiAgX3JlcXVlc3QuZW5kKCk7XG5cbiAgcmV0dXJuIF9yZXF1ZXN0O1xufVxuXG5mdW5jdGlvbiBwb3N0KGhvc3QsIHVyaSwgcGFyYW1ldGVycywgaGVhZGVycywgY2FsbGJhY2spIHtcbiAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICBjYWxsYmFjayA9IGhlYWRlcnM7IC8vL1xuICAgIGhlYWRlcnMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0IG1ldGhvZCA9IFBPU1QsXG4gICAgICAgIF9yZXF1ZXN0ID0gcmVxdWVzdChob3N0LCB1cmksIHBhcmFtZXRlcnMsIG1ldGhvZCwgaGVhZGVycywgY2FsbGJhY2spO1xuXG4gIHJldHVybiBfcmVxdWVzdDtcbn1cblxuZnVuY3Rpb24gcmVxdWVzdChob3N0LCB1cmksIHBhcmFtZXRlcnMsIG1ldGhvZCwgaGVhZGVycywgY2FsbGJhY2spIHtcbiAgY29uc3QgcG9ydCA9IHBvcnRGcm9tSG9zdChob3N0KSxcbiAgICAgICAgc2VjdXJlID0gc2VjdXJlRnJvbUhvc3QoaG9zdCksXG4gICAgICAgIGhvc3RuYW1lID0gaG9zdG5hbWVGcm9tSG9zdChob3N0KSxcbiAgICAgICAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZ0Zyb21QYXJhbWV0ZXJzKHBhcmFtZXRlcnMpLFxuICAgICAgICBwYXRoID0gKHF1ZXJ5U3RyaW5nID09PSBFTVBUWV9TVFJJTkcpID9cbiAgICAgICAgICAgICAgICAgdXJpIDpcbiAgICAgICAgICAgICAgICAgIGAke3VyaX0/JHtxdWVyeVN0cmluZ31gLFxuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIGhvc3RuYW1lLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgcGF0aFxuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0ID0gc2VjdXJlID9cbiAgICAgICAgICAgICAgICAgICAgIGh0dHBzLnJlcXVlc3QgOiAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cC5yZXF1ZXN0OyAvLy9cblxuICBjb25zdCBfcmVxdWVzdCA9IHJlcXVlc3Qob3B0aW9ucywgKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBudWxsO1xuXG4gICAgY2FsbGJhY2soZXJyb3IsIHJlc3BvbnNlKTtcbiAgfSk7XG5cbiAgX3JlcXVlc3Qub24oRVJST1IsIChlcnJvcikgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbnVsbDtcblxuICAgIGNhbGxiYWNrKGVycm9yLCByZXNwb25zZSk7XG4gIH0pO1xuXG4gIHJldHVybiBfcmVxdWVzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xu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