"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _constants = require("../constants");
var _methods = require("../methods");
var _http = require("../utilities/http");
var http = require("http"), https = require("https");
function get(host, uri, parameters, headers, callback) {
    if (callback === undefined) {
        callback = headers; ///
        headers = {
        };
    }
    var method = _methods.GET_METHOD, _request = request(host, uri, parameters, method, headers, callback);
    _request.end();
    return _request;
}
function post(host, uri, parameters, headers, callback) {
    if (callback === undefined) {
        callback = headers; ///
        headers = {
        };
    }
    var method = _methods.POST_METHOD, _request = request(host, uri, parameters, method, headers, callback);
    return _request;
}
function request(host, uri, parameters, method, headers, callback) {
    var port = (0, _http).portFromHost(host), secure = (0, _http).secureFromHost(host), hostname = (0, _http).hostnameFromHost(host), queryString = (0, _http).queryStringFromParameters(parameters), path = queryString === _constants.EMPTY_STRING ? uri : "".concat(uri, "?").concat(queryString), options = {
        hostname: hostname,
        headers: headers,
        method: method,
        port: port,
        path: path
    }, request1 = secure ? https.request : http.request; ///
    var _request = request1(options, function(response) {
        var error = null;
        callback(error, response);
    });
    _request.on(_constants.ERROR, function(error) {
        var response = null;
        callback(error, response);
    });
    return _request;
}
var _default = {
    get: get,
    post: post,
    request: request
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcmVxdWVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpLFxuICAgICAgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XG5cbmltcG9ydCB7IEVSUk9SLCBFTVBUWV9TVFJJTkcgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBHRVRfTUVUSE9ELCBQT1NUX01FVEhPRCB9IGZyb20gXCIuLi9tZXRob2RzXCI7XG5pbXBvcnQgeyBwb3J0RnJvbUhvc3QsIHNlY3VyZUZyb21Ib3N0LCBob3N0bmFtZUZyb21Ib3N0LCBxdWVyeVN0cmluZ0Zyb21QYXJhbWV0ZXJzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9odHRwXCI7XG5cbmZ1bmN0aW9uIGdldChob3N0LCB1cmksIHBhcmFtZXRlcnMsIGhlYWRlcnMsIGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2FsbGJhY2sgPSBoZWFkZXJzOyAvLy9cbiAgICBoZWFkZXJzID0ge307XG4gIH1cblxuICBjb25zdCBtZXRob2QgPSBHRVRfTUVUSE9ELFxuICAgICAgICBfcmVxdWVzdCA9IHJlcXVlc3QoaG9zdCwgdXJpLCBwYXJhbWV0ZXJzLCBtZXRob2QsIGhlYWRlcnMsIGNhbGxiYWNrKTtcblxuICBfcmVxdWVzdC5lbmQoKTtcblxuICByZXR1cm4gX3JlcXVlc3Q7XG59XG5cbmZ1bmN0aW9uIHBvc3QoaG9zdCwgdXJpLCBwYXJhbWV0ZXJzLCBoZWFkZXJzLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgIGNhbGxiYWNrID0gaGVhZGVyczsgLy8vXG4gICAgaGVhZGVycyA9IHt9O1xuICB9XG5cbiAgY29uc3QgbWV0aG9kID0gUE9TVF9NRVRIT0QsXG4gICAgICAgIF9yZXF1ZXN0ID0gcmVxdWVzdChob3N0LCB1cmksIHBhcmFtZXRlcnMsIG1ldGhvZCwgaGVhZGVycywgY2FsbGJhY2spO1xuXG4gIHJldHVybiBfcmVxdWVzdDtcbn1cblxuZnVuY3Rpb24gcmVxdWVzdChob3N0LCB1cmksIHBhcmFtZXRlcnMsIG1ldGhvZCwgaGVhZGVycywgY2FsbGJhY2spIHtcbiAgY29uc3QgcG9ydCA9IHBvcnRGcm9tSG9zdChob3N0KSxcbiAgICAgICAgc2VjdXJlID0gc2VjdXJlRnJvbUhvc3QoaG9zdCksXG4gICAgICAgIGhvc3RuYW1lID0gaG9zdG5hbWVGcm9tSG9zdChob3N0KSxcbiAgICAgICAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZ0Zyb21QYXJhbWV0ZXJzKHBhcmFtZXRlcnMpLFxuICAgICAgICBwYXRoID0gKHF1ZXJ5U3RyaW5nID09PSBFTVBUWV9TVFJJTkcpID9cbiAgICAgICAgICAgICAgICAgdXJpIDpcbiAgICAgICAgICAgICAgICAgIGAke3VyaX0/JHtxdWVyeVN0cmluZ31gLFxuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIGhvc3RuYW1lLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgcGF0aFxuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0ID0gc2VjdXJlID9cbiAgICAgICAgICAgICAgICAgICAgIGh0dHBzLnJlcXVlc3QgOiAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cC5yZXF1ZXN0OyAvLy9cblxuICBjb25zdCBfcmVxdWVzdCA9IHJlcXVlc3Qob3B0aW9ucywgKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBudWxsO1xuXG4gICAgY2FsbGJhY2soZXJyb3IsIHJlc3BvbnNlKTtcbiAgfSk7XG5cbiAgX3JlcXVlc3Qub24oRVJST1IsIChlcnJvcikgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbnVsbDtcblxuICAgIGNhbGxiYWNrKGVycm9yLCByZXNwb25zZSk7XG4gIH0pO1xuXG4gIHJldHVybiBfcmVxdWVzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXQsXG4gIHBvc3QsXG4gIHJlcXVlc3Rcbn07XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsVUFBWTs7Ozs7QUFLd0IsR0FBYyxDQUFkLFVBQWM7QUFDVixHQUFZLENBQVosUUFBWTtBQUNzQyxHQUFtQixDQUFuQixLQUFtQjtBQUw3RyxHQUFLLENBQUMsSUFBSSxHQUFHLE9BQU8sRUFBQyxJQUFNLElBQ3JCLEtBQUssR0FBRyxPQUFPLEVBQUMsS0FBTztTQU1wQixHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQ3RELEVBQUUsRUFBRSxRQUFRLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDM0IsUUFBUSxHQUFHLE9BQU8sQ0FBRSxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7UUFDdkIsT0FBTzs7SUFDVCxDQUFDO0lBRUQsR0FBSyxDQUFDLE1BQU0sR0FUMEIsUUFBWSxhQVU1QyxRQUFRLEdBQUcsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUTtJQUV6RSxRQUFRLENBQUMsR0FBRztXQUVMLFFBQVE7QUFDakIsQ0FBQztTQUVRLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUM7SUFDdkQsRUFBRSxFQUFFLFFBQVEsS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMzQixRQUFRLEdBQUcsT0FBTyxDQUFFLENBQUcsQUFBSCxFQUFHLEFBQUgsQ0FBRztRQUN2QixPQUFPOztJQUNULENBQUM7SUFFRCxHQUFLLENBQUMsTUFBTSxHQXZCMEIsUUFBWSxjQXdCNUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVE7V0FFbEUsUUFBUTtBQUNqQixDQUFDO1NBRVEsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUM7SUFDbEUsR0FBSyxDQUFDLElBQUksT0E3QjhFLEtBQW1CLGVBNkJqRixJQUFJLEdBQ3hCLE1BQU0sT0E5QjRFLEtBQW1CLGlCQThCN0UsSUFBSSxHQUM1QixRQUFRLE9BL0IwRSxLQUFtQixtQkErQnpFLElBQUksR0FDaEMsV0FBVyxPQWhDdUUsS0FBbUIsNEJBZ0M3RCxVQUFVLEdBQ2xELElBQUksR0FBSSxXQUFXLEtBbkNTLFVBQWMsZ0JBb0NqQyxHQUFHLE1BQ1EsTUFBVyxDQUFsQixHQUFHLEdBQUMsQ0FBQyxHQUFjLE1BQUEsQ0FBWixXQUFXLEdBQy9CLE9BQU87UUFDTCxRQUFRLEVBQVIsUUFBUTtRQUNSLE9BQU8sRUFBUCxPQUFPO1FBQ1AsTUFBTSxFQUFOLE1BQU07UUFDTixJQUFJLEVBQUosSUFBSTtRQUNKLElBQUksRUFBSixJQUFJO09BRU4sUUFBTyxHQUFHLE1BQU0sR0FDSCxLQUFLLENBQUMsT0FBTyxHQUNYLElBQUksQ0FBQyxPQUFPLENBQUUsQ0FBRyxBQUFILEVBQUcsQUFBSCxDQUFHO0lBRXRDLEdBQUssQ0FBQyxRQUFRLEdBQUcsUUFBTyxDQUFDLE9BQU8sV0FBRyxRQUFRLEVBQUssQ0FBQztRQUMvQyxHQUFLLENBQUMsS0FBSyxHQUFHLElBQUk7UUFFbEIsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRO0lBQzFCLENBQUM7SUFFRCxRQUFRLENBQUMsRUFBRSxDQXZEdUIsVUFBYyxpQkF1RDVCLEtBQUssRUFBSyxDQUFDO1FBQzdCLEdBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSTtRQUVyQixRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVE7SUFDMUIsQ0FBQztXQUVNLFFBQVE7QUFDakIsQ0FBQzs7SUFHQyxHQUFHLEVBQUgsR0FBRztJQUNILElBQUksRUFBSixJQUFJO0lBQ0osT0FBTyxFQUFQLE9BQU8ifQ==